# Union-Find

## ๐ง ูุง ูู ุฎูุงุฑุฒููุฉ Union-Findุ

> ุฎูุงุฑุฒููุฉ Union-Find ุชูุณุชุฎุฏู ูุฅุฏุงุฑุฉ ุชูุณูู ูุฌููุนุฉ ูู ุงูุนูุงุตุฑ ุฅูู ูุฌููุนุงุช ุบูุฑ ูุชุฏุงุฎูุฉ (disjoint sets)ุ ูุชุฏุนู ุนูููุชูู ุฃุณุงุณูุชูู ุจููุงุกุฉ ุนุงููุฉ:
> 
> - **Find:** ุฅูุฌุงุฏ ุงููุฌููุนุฉ ุงูุชู ููุชูู ุฅูููุง ุนูุตุฑ ูุนูู.
> - **Union:** ุฏูุฌ ูุฌููุนุชูู ูู ูุฌููุนุฉ ูุงุญุฏุฉ.

---

## ๐ช ุฎุทูุงุช ุงูุญู:

### โ ุงูุฎุทูุฉ 1: ุชูุซูู ูู ุนูุตุฑ ุจูุคุดุฑ ุงูุฃุจ (parent) ุงูุฎุงุต ุจูุ ูู ุงูุจุฏุงูุฉ ูู ุนูุตุฑ ูู ุฃุจ ููุณู

### โ ุงูุฎุทูุฉ 2: ุฏุงูุฉ **find** ูุฅูุฌุงุฏ ุงูุฃุจ ุงูุฃุนูู (ุงูุชูุซูู) ูุน ุชูููุฉ ุถุบุท ุงููุณุงุฑ (Path Compression) ูุชุญุณูู ุงูุฃุฏุงุก

### โ ุงูุฎุทูุฉ 3: ุฏุงูุฉ **union** ูุฏูุฌ ูุฌููุนุชูู ุจูุงุกู ุนูู ุชูุซููุงุช ุงูุฃุจุ ูุน ุชูููุฉ ุงูุงุชุญุงุฏ ุญุณุจ ุงูุญุฌู ุฃู ุงูุฑุชุจุฉ (Union by Rank/Size)

---

## ๐ฆ ููุฏ Dart ูุงูู ูุน ุดุฑุญ ูุชูุตูู:

```dart
dart
ูุณุฎุชุญุฑูุฑ
class UnionFind {
  late List<int> parent;
  late List<int> rank; // ุฃู ูููู ุงุณุชุฎุฏุงู size

  /// ุชููุฆุฉ Union-Find ูุนุฏุฏ n ูู ุงูุนูุงุตุฑ (0 ุฅูู n-1)
  UnionFind(int n) {
    parent = List.generate(n, (index) => index); // ูู ุนูุตุฑ ุฃุจ ููุณู
    rank = List.filled(n, 0); // ุฑุชุจุฉ ูู ุนูุตุฑ ุตูุฑ ูู ุงูุจุฏุงูุฉ
  }

  /// ุฏุงูุฉ find ูุน ุถุบุท ุงููุณุงุฑ Path Compression
  int find(int x) {
    if (parent[x] != x) {
      parent[x] = find(parent[x]); // ุชุญุฏูุซ ุงูุฃุจ ูุจุงุดุฑุฉ
    }
    return parent[x];
  }

  /// ุฏุงูุฉ union ูุฏูุฌ ูุฌููุนุชูู
  bool union(int x, int y) {
    int rootX = find(x);
    int rootY = find(y);

    if (rootX == rootY) {
      // ุงูุนูุตุฑุงู ูู ููุณ ุงููุฌููุนุฉ ูุณุจูุงู
      return false;
    }

    // ุฏูุฌ ุงููุฌููุนุฉ ุงูุฃูู ุฑุชุจุฉ ูู ุงูุฃุนูู ุฑุชุจุฉ
    if (rank[rootX] < rank[rootY]) {
      parent[rootX] = rootY;
    } else if (rank[rootX] > rank[rootY]) {
      parent[rootY] = rootX;
    } else {
      parent[rootY] = rootX;
      rank[rootX]++;
    }

    return true;
  }

  /// ุฏุงูุฉ ููุชุญูู ุฅุฐุง ุนูุตุฑูู ูู ููุณ ุงููุฌููุนุฉ
  bool connected(int x, int y) {
    return find(x) == find(y);
  }
}

void main() {
  int n = 7; // ุนุฏุฏ ุงูุนูุงุตุฑ (0 ุฅูู 6)
  UnionFind uf = UnionFind(n);

  // ุฏูุฌ ุจุนุถ ุงููุฌููุนุงุช
  uf.union(0, 1);
  uf.union(1, 2);
  uf.union(3, 4);
  uf.union(5, 6);

  print("ูู 0 ู 2 ูู ููุณ ุงููุฌููุนุฉุ ${uf.connected(0, 2)}"); // true
  print("ูู 0 ู 3 ูู ููุณ ุงููุฌููุนุฉุ ${uf.connected(0, 3)}"); // false

  uf.union(2, 4);

  print("ุจุนุฏ ุงูุฏูุฌ ุจูู 2 ู 4:");
  print("ูู 0 ู 4 ูู ููุณ ุงููุฌููุนุฉุ ${uf.connected(0, 4)}"); // true
}

```

---

## ๐งช ูุฎุฑุฌุงุช ุงูุชุฌุฑุจุฉ:

```
yaml
ูุณุฎุชุญุฑูุฑ
ูู 0 ู 2 ูู ููุณ ุงููุฌููุนุฉุ true
ูู 0 ู 3 ูู ููุณ ุงููุฌููุนุฉุ false
ุจุนุฏ ุงูุฏูุฌ ุจูู 2 ู 4:
ูู 0 ู 4 ูู ููุณ ุงููุฌููุนุฉุ true

```

---

## ๐ ุดุฑุญ ุชูุตููู:

| ุงูุฎุทูุฉ | ุงููุตู | ุงูููุฏ ุฃู ุงูุชุนููู |
| --- | --- | --- |
| 1 | ุชููุฆุฉ ุงููุตูููุงุช parent ู rank | `UnionFind` constructor |
| 2 | ุฏุงูุฉ find ูุน ุถุบุท ุงููุณุงุฑ | `find` ูุน ุงูุชุญุฏูุซ ุงูุฐุงุชู ููุฃุจ |
| 3 | ุฏุงูุฉ union ูุน ุฏูุฌ ุงููุฌููุนุงุช ุญุณุจ ุงูุฑุชุจุฉ | `union` ุจุฏูุฌ ุงูุฃุจ ุงูุฃูู ุฑุชุจุฉ ููุฃุนูู |
| 4 | ุฏุงูุฉ connected ููุชุญูู ูู ุงูุงูุชูุงุก ูููุณ ุงููุฌููุนุฉ | ููุงุฑูุฉ ูุชุงุฆุฌ find |

---

## ููุงุญุธุงุช:

- Union-Find ูุนุงูุฉ ุฌุฏุงู ูู ุฎูุงุฑุฒููุงุช **Connected Components**ุ **Kruskal MST**ุ ูุญู ูุดุงูู ุงูุดุจูุงุช.
- ุฒูู ูู ุนูููุฉ ุชูุฑูุจุงู O(ฮฑ(n)) ุญูุซ ฮฑ ูู ุฏุงูุฉ Inverse Ackermann ููู ุดุจู ุซุงุจุชุฉ.