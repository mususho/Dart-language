# BFS

# 🧠 ما هي خوارزمية BFS؟

> BFS هي خوارزمية بحث في الرسوم البيانية تستخدم لاستكشاف العقد بطريقة العرض (الطبقة تلو الطبقة).
> 
> 
> تبدأ من عقدة معينة، تزور كل جيرانها ثم جيران الجيران وهكذا.
> 

---

## 🪜 خطوات الحل:

### ✅ الخطوة 1: تهيئة مجموعة `visited` لتتبع العقد التي تمت زيارتها

### ✅ الخطوة 2: تهيئة قائمة انتظار (Queue) وإضافة العقدة الابتدائية إليها

### ✅ الخطوة 3: إزالة عقدة من قائمة الانتظار وزيارة جيرانها غير المزورين، ثم إضافتهم إلى قائمة الانتظار

### ✅ الخطوة 4: تكرار الخطوة 3 حتى تصبح قائمة الانتظار فارغة

---

## 📦 كود Dart كامل مع شرح وتفصيل:

```dart
dart
نسختحرير
import 'dart:collection';

void main() {
  // تمثيل الرسم البياني كخريطة: كل عقدة مرتبطة بقائمة جيرانها
  Map<int, List<int>> graph = {
    0: [1, 2],
    1: [0, 3],
    2: [0],
    3: [1, 4],
    4: [3],
  };

  List<int> bfsOrder = bfs(0, graph);

  print("ترتيب زيارة العقد في BFS:");
  print(bfsOrder);
}

List<int> bfs(int start, Map<int, List<int>> graph) {
  Set<int> visited = {};
  Queue<int> queue = Queue();
  List<int> bfsOrder = [];

  // 1. نضيف العقدة الابتدائية إلى قائمة الانتظار ونعلمها كمزارة
  queue.add(start);
  visited.add(start);

  // 2. نكرر حتى تفريغ قائمة الانتظار
  while (queue.isNotEmpty) {
    int node = queue.removeFirst();  // إزالة العقدة من المقدمة
    bfsOrder.add(node);              // تسجيل العقدة في ترتيب الزيارة

    // 3. زيارة الجيران وإضافتهم إلى قائمة الانتظار إذا لم يزوروا مسبقًا
    for (int neighbor in graph[node] ?? []) {
      if (!visited.contains(neighbor)) {
        visited.add(neighbor);
        queue.add(neighbor);
      }
    }
  }

  return bfsOrder;
}

```

---

## 🧪 مخرجات التجربة:

```
csharp
نسختحرير
ترتيب زيارة العقد في BFS:
[0, 1, 2, 3, 4]

```

---

## 🔍 شرح تفصيلي:

| الخطوة | الوصف | الكود أو التعليق |
| --- | --- | --- |
| 1 | تهيئة قائمة انتظار وإضافة العقدة الابتدائية | `queue.add(start); visited.add(start);` |
| 2 | إزالة عقدة من قائمة الانتظار | `int node = queue.removeFirst();` |
| 3 | تسجيل العقدة في الترتيب | `bfsOrder.add(node);` |
| 4 | إضافة جيران غير مزورين لقائمة الانتظار | `queue.add(neighbor); visited.add(neighbor);` |

---

## ملاحظات:

- BFS يستخدم للعثور على أقصر مسار في رسم غير موجه بدون أوزان.
- يستخدم أيضاً في تحليل المكونات المتصلة، تصنيف العقد حسب المسافة من البداية.
- يمكن استخدامه في مشاكل متعددة مثل البحث في الشجرة، تحليل الشبكات، إلخ.