# Prefix Sum

## ๐ ูุง ูู Prefix Sumุ

"**Prefix Sum**" (ุฃู ุงููุฌููุน ุงูุชุฑุงููู) ูู ุชูููุฉ ุชูุณุชุฎุฏู ูุญุณุงุจ ูุฌููุน ุนูุงุตุฑ ูุฑุนูุฉ ูู ูุงุฆูุฉ ุจุทุฑููุฉ **ุณุฑูุนุฉ ุฌุฏูุง (O(1))** ุจุนุฏ ูุนุงูุฌุฉ ูุณุจูุฉ.

---

## ๐ฏ ุงูููุฑุฉ ุงูุฃุณุงุณูุฉ:

ููุชุฑุถ ุฃู ูุฏููุง ุงููุงุฆูุฉ:

```dart
[2, 4, 1, 3, 6]
```

ูููู ุจุฅูุดุงุก ูุงุฆูุฉ `prefix` ุจุญูุซ ูู ุนูุตุฑ ูููุง ููุซู ูุฌููุน ูู ุงูุนูุงุตุฑ **ูู ุงูุจุฏุงูุฉ ุญุชู ุฐูู ุงูููุถุน**:

```dart
[2, 6, 7, 10, 16]
```

- `prefix[0] = 2`
- `prefix[1] = 2 + 4 = 6`
- `prefix[2] = 6 + 1 = 7`
- `prefix[3] = 7 + 3 = 10`
- `prefix[4] = 10 + 6 = 16`

ุจุนุฏูุง ูููููุง ุญุณุงุจ ูุฌููุน ุฃู ูุทุนุฉ (ูู i ุฅูู j) ูุงูุขุชู:

```dart
sum(i to j) = prefix[j] - prefix[i - 1]
```

ูุฅุฐุง `i = 0`ุ ูููู ุงููุฌููุน ูุจุงุดุฑุฉ `prefix[j]`

---

## โ ุฎุทูุงุช ุฅูุดุงุก Prefix Sum:

| ุฑูู | ุงูุฎุทูุฉ |
| --- | --- |
| 1 | ุฃูุดุฆ ุฏุงูุฉ ุชุณุชูุจู ูุงุฆูุฉ `List<int>`. |
| 2 | ุฃูุดุฆ ูุงุฆูุฉ ุฌุฏูุฏุฉ `prefix` ุจููุณ ุงูุทูู. |
| 3 | ุงุฌุนู ุงูุนูุตุฑ ุงูุฃูู ูู `prefix` = ุงูุนูุตุฑ ุงูุฃูู ูู ุงููุงุฆูุฉ ุงูุฃุตููุฉ. |
| 4 | ูุฑุฑ ุนูู ุงููุงุฆูุฉ ูุงุจุฏุฃ ูู ุงูุนูุตุฑ ุงูุซุงูู. |
| 5 | ููู ุนูุตุฑ iุ ุงุฌุนู: |
| `prefix[i] = prefix[i-1] + original[i]` |  |
| 6 | ุฃุฑุฌุน ูุงุฆูุฉ `prefix`. |

---

## ๐ป ุงูููุฏ ุงููุงูู ูุน ุงูุดุฑุญ ุณุทุฑูุง ุจุณุทุฑ:

```dart

// ุฏุงูุฉ ูุญุณุงุจ ูุงุฆูุฉ ุงููุฌููุน ุงูุชุฑุงููู (Prefix Sum)
List<int> computePrefixSum(List<int> list) {
  int n = list.length;

  // ุงูุฎุทูุฉ 2: ุฅูุดุงุก ูุงุฆูุฉ ุฌุฏูุฏุฉ ุจููุณ ุงูุญุฌู
  List<int> prefix = List.filled(n, 0);

  // ุงูุฎุทูุฉ 3: ุฃูู ุนูุตุฑ ูุจูู ููุง ูู
  prefix[0] = list[0];

  // ุงูุฎุทูุฉ 4: ุญุณุงุจ ุงููุฌููุน ุงูุชุฑุงููู ููุจููุฉ
  for (int i = 1; i < n; i++) {
    // ุงูุฎุทูุฉ 5: ุงููุฌููุน ุญุชู ูุฐุง ุงูููุถุน = ุงููุฌููุน ุงูุณุงุจู + ุงูุนูุตุฑ ุงูุญุงูู
    prefix[i] = prefix[i - 1] + list[i];
  }

  return prefix;
}

// ุฏุงูุฉ ูุญุณุงุจ ูุฌููุน ุนูุงุตุฑ ุจูู ููุถุนูู ุจุงุณุชุฎุฏุงู ุงููุฌููุน ุงูุชุฑุงููู
int rangeSum(List<int> prefix, int i, int j) {
  // ุฅุฐุง ุจุฏุฃูุง ูู ุงูููุถุน 0
  if (i == 0) return prefix[j];

  // ุงุณุชุฎุฏุงู ูุงููู prefix sum: sum(i to j) = prefix[j] - prefix[i-1]
  return prefix[j] - prefix[i - 1];
}

// ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ ููุชุฌุฑุจุฉ
void main() {
  List<int> numbers = [2, 4, 1, 3, 6];

  print("๐ ุงููุงุฆูุฉ ุงูุฃุตููุฉ: $numbers");

  // ุญุณุงุจ ุงููุฌููุน ุงูุชุฑุงููู
  List<int> prefix = computePrefixSum(numbers);

  print("๐ ูุงุฆูุฉ ุงููุฌููุน ุงูุชุฑุงููู:");
  print(prefix);

  // ุชุฌุฑุจุฉ ุญุณุงุจ ูุฌููุน ุจูู ููุถุนูู
  int i = 1; // ุงูููุถุน ุงูุซุงูู
  int j = 3; // ุงูููุถุน ุงูุฑุงุจุน

  int result = rangeSum(prefix, i, j);

  print("๐ ูุฌููุน ุงูุนูุงุตุฑ ูู index $i ุฅูู $j ูู: $result");
}

```

---

## ๐งช ูุซุงู ุนููู:

```dart
dart
CopyEdit
List:    [2, 4, 1, 3, 6]
Prefix:  [2, 6, 7, 10, 16]

```

ูุญุณุงุจ ูุฌููุน ุงูุนูุงุตุฑ ูู index 1 ุฅูู 3 (ุฃู: 4 + 1 + 3 = 8):

```dart
dart
CopyEdit
prefix[3] = 10
prefix[0] = 2
โ result = 10 - 2 = 8 โ

```

---

## โฑ๏ธ ุชุญููู ุงูุฃุฏุงุก:

| ุงูุนูููุฉ | ุงูุฒูู (Time) | ุงูุฐุงูุฑุฉ (Space) |
| --- | --- | --- |
| ุฅูุดุงุก `prefix` | โ O(n) | โ O(n) |
| ุญุณุงุจ ุฃู ูุฌููุน ูุฑุนู | โ O(1) | โ ุจุงุณุชุฎุฏุงู `prefix` |

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ:

- `Prefix Sum` ููุณุชุฎุฏู ูู ูุดุงูู ุงูุฃุฏุงุก ุงูุนุงูู ูุซู:
    - ุฅูุฌุงุฏ ูุฌููุน ุจูู ุฃู ููุฑุณูู ุจุดูู ูุชูุฑุฑ.
    - ุนุฏุฏ ุงูุฃุตูุงุฑ/ุงูุขุญุงุฏ ูู ุณูุงุณู ุซูุงุฆูุฉ.
    - ูุฌููุน ุงูุฃุนูุฏุฉ ุฃู ุงูุตููู ูู ูุตูููุฉ (ูููู ุชูุณูุน ุงูููููู ุฅูู 2D Prefix Sum).
- ููููู ุฌุนูู **ุนุงููุง** ููุนูู ุนูู ุฃููุงุน ุฃุฎุฑู ุฃู ุฃุนุฏุงุฏ ุนุดุฑูุฉ (`double`).