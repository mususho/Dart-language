# Inheritance

### **ما هي الوراثة (Inheritance)؟**

**الوراثة** هي ميزة في البرمجة الكائنية التوجه تسمح لفئة (Class) أن **ترث** خصائص وسلوكيات (المتغيرات والدوال) من فئة أخرى. بفضل الوراثة، يمكن لفئة أن **تستفيد** من الكود الموجود في فئة أخرى دون الحاجة إلى إعادة كتابة الكود.

الوراثة تسمح بإنشاء **فئات متخصصة** بناءً على فئات **عامة**. هذه الطريقة تزيد من **إعادة استخدام الكود** وتقلل من **التكرار** في البرنامج.

---

### **كيفية استخدام الوراثة في دارت (Dart)**

في دارت، يتم استخدام الكلمة المفتاحية **`extends`** لإنشاء وراثة بين فئتين. الفئة **الأساسية** (Base Class) هي التي تحتوي على الخصائص والدوال التي يمكن **وراثتها**، والفئة **الفرعية** (Sub Class) هي الفئة التي **ترث** تلك الخصائص والدوال.

### **بناء الجملة للوراثة**:

```dart

class SuperClass {
  // خصائص وسلوكيات الفئة الأساسية
}

class SubClass extends SuperClass {
  // خصائص وسلوكيات الفئة الفرعية
}

```

### **مثال على الوراثة**:

```dart

// فئة أساسية (SuperClass)
class Animal {
  String name;

  // المُنشئ
  Animal(this.name);

  // دالة للصوت
  void sound() {
    print("$name makes a sound");
  }
}

// فئة فرعية (SubClass) ترث من Animal
class Dog extends Animal {
  // المُنشئ في الفئة الفرعية
  Dog(String name) : super(name);

  // دالة خاصة بالكلب
  void bark() {
    print("$name barks!");
  }
}

void main() {
  // إنشاء كائن من الفئة الفرعية Dog
  Dog dog = Dog("Buddy");

  // استدعاء دالة ورثتها من الفئة الأساسية Animal
  dog.sound();  // Buddy makes a sound

  // استدعاء دالة خاصة بالكلب من الفئة الفرعية
  dog.bark();   // Buddy barks!
}

```

**الإخراج:**

```

Buddy makes a sound
Buddy barks!

```

### **شرح المثال**:

- **`Animal`** هي الفئة **الأساسية** (SuperClass)، وهي تحتوي على الخصائص مثل **`name`** والدالة **`sound()`**.
- **`Dog`** هي الفئة **الفرعية** (SubClass) التي ترث من الفئة **`Animal`**. في الفئة الفرعية، يتم تعريف دالة جديدة خاصة بالكلب وهي **`bark()`**.
- الكائن **`dog`** من الفئة **`Dog`** يمكنه الوصول إلى **دالة `sound()`** من الفئة الأساسية **`Animal`**، بالإضافة إلى استخدام الدالة الخاصة به **`bark()`**.

---

### **مزايا الوراثة**

1. **إعادة استخدام الكود**: الوراثة تسمح بإعادة استخدام الكود الموجود في الفئة الأساسية (SuperClass) دون الحاجة إلى إعادة تعريفه في الفئة الفرعية (SubClass).
2. **التوسيع (Extending)**: يمكن للفئة الفرعية **إضافة وظائف جديدة** أو **تغيير سلوك الدوال** من الفئة الأساسية، مما يتيح لك تخصيص السلوك حسب الحاجة.
3. **التنظيم الهيكلي**: يسمح بإنشاء هيكل هرمي للبيانات مما يسهل تنظيم الكود وتطويره بشكل أفضل.

---

### **إعادة تعريف (Override) الدوال في الفئة الفرعية**

في بعض الأحيان، قد ترغب في **إعادة تعريف** (Override) دالة موجودة في الفئة الأساسية، لكي تكون لها سلوك خاص في الفئة الفرعية. في دارت، يتم استخدام الكلمة المفتاحية **`@override`** لإعادة تعريف دالة.

### **مثال على إعادة التعريف (Override)**:

```dart

class Animal {
  String name;

  Animal(this.name);

  void sound() {
    print("$name makes a sound");
  }
}

class Dog extends Animal {
  Dog(String name) : super(name);

  // إعادة تعريف الدالة sound() في الفئة الفرعية Dog
  @override
  void sound() {
    print("$name barks");
  }
}

void main() {
  Dog dog = Dog("Buddy");

  // استدعاء الدالة المعرّفة في الفئة الفرعية
  dog.sound();  // Buddy barks
}

```

**الإخراج:**

```

Buddy barks

```

- في هذا المثال، تم **إعادة تعريف** الدالة **`sound()`** في الفئة **`Dog`** لكي تقوم بعرض "barks" بدلاً من "makes a sound" كما في الفئة الأساسية **`Animal`**.

---

### **الوراثة متعددة المستويات**

يمكن لفئة فرعية أن ترث من فئة فرعية أخرى، وبالتالي يمكن أن يكون لديك **وراثة متعددة المستويات**.

### **مثال على الوراثة متعددة المستويات**:

```dart

class Animal {
  String name;

  Animal(this.name);

  void sound() {
    print("$name makes a sound");
  }
}

class Mammal extends Animal {
  Mammal(String name) : super(name);

  void feedMilk() {
    print("$name feeds milk");
  }
}

class Dog extends Mammal {
  Dog(String name) : super(name);

  @override
  void sound() {
    print("$name barks");
  }
}

void main() {
  Dog dog = Dog("Buddy");
  dog.sound();        // Buddy barks
  dog.feedMilk();     // Buddy feeds milk
}

```

**الإخراج:**

```

Buddy barks
Buddy feeds milk

```

- في هذا المثال:
    - **`Animal`** هي الفئة الأساسية.
    - **`Mammal`** هي فئة فرعية ترث من **`Animal`**.
    - **`Dog`** هي فئة فرعية ترث من **`Mammal`**.
- كل فئة تضيف سلوكًا جديدًا وتُورث الخصائص والدوال من الفئات الأعلى.

---

### **الوراثة باستخدام المُنشئ**

عند استخدام الوراثة في دارت، يمكن أن تحتوي الفئة الأساسية على مُنشئ. في هذه الحالة، تحتاج الفئة الفرعية إلى **استدعاء المُنشئ** الخاص بالفئة الأساسية باستخدام الكلمة المفتاحية **`super`**.

### **مثال على استخدام المُنشئ**:

```dart

class Animal {
  String name;

  Animal(this.name);

  void sound() {
    print("$name makes a sound");
  }
}

class Dog extends Animal {
  // استدعاء المُنشئ الخاص بالفئة الأساسية
  Dog(String name) : super(name);

  @override
  void sound() {
    print("$name barks");
  }
}

void main() {
  Dog dog = Dog("Buddy");
  dog.sound();  // Buddy barks
}

```

في هذا المثال، تم استدعاء المُنشئ **`Animal(this.name)`** من الفئة **`Dog`** باستخدام **`super(name)`**. هذا يتيح للفئة الفرعية تخصيص قيمة المتغير **`name`** في الفئة الأساسية.

---

### **الخلاصة**

- **الوراثة (Inheritance)** تسمح لفئة بأن ترث خصائص وسلوكيات فئة أخرى.
- يمكن لفئة **فرعية** أن تضيف خصائص أو تعدل سلوكيات فئة **أساسية**.
- يمكن إعادة تعريف (Override) الدوال من الفئة الأساسية لتخصيص سلوكها في الفئة الفرعية.
- الوراثة تساعد على **إعادة استخدام الكود** وتوسيع الفئات بشكل منظم.

الوراثة هي ميزة قوية تساعد على تحسين تنظيم الكود وتقليل التكرار، مما يسهل عملية التطوير والصيانة في البرمجة الكائنية التوجه.

### أنت قلت: