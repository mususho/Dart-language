# Binary Search

## 🔍 خوارزمية البحث الثنائي (Binary Search) — شرح كامل بلغة Dart

---

### 📌 **ما هي خوارزمية Binary Search؟**

خوارزمية **البحث الثنائي** هي طريقة فعّالة للبحث عن عنصر داخل **قائمة مرتبة تصاعديًا**.

بدلاً من فحص كل عنصر واحدًا تلو الآخر (كما في البحث الخطي)، تقوم هذه الخوارزمية بتقليل نطاق البحث إلى النصف في كل خطوة.

---

### ✅ **شروط استخدام البحث الثنائي:**

1. القائمة يجب أن تكون **مرتبة تصاعديًا**.
2. لا تعمل هذه الخوارزمية بشكل صحيح مع القوائم غير المرتبة.

---

## ✅ خطوات بناء الخوارزمية:

| الرقم | الخطوة |
| --- | --- |
| 1 | تعريف دالة باسم `binarySearch`. |
| 2 | تمرير القائمة `list` والعنصر `target` كوسيطين للدالة. |
| 3 | تعريف متغيرين `low` و `high` للإشارة إلى طرفي القائمة. |
| 4 | استخدام حلقة `while` للبحث طالما `low <= high`. |
| 5 | حساب منتصف القائمة `mid = (low + high) ~/ 2`. |
| 6 | مقارنة `list[mid]` مع `target`: |
|  | - إذا كان مساويًا → تم العثور على العنصر. |
|  | - إذا كان أصغر → البحث يصبح في النصف الأعلى. |
|  | - إذا كان أكبر → البحث يصبح في النصف الأسفل. |
| 7 | إذا انتهت الحلقة دون إيجاد العنصر، نعيد `-1`. |

---

## 💻 الكود الكامل مع التعليقات وشرح كل خطوة

```dart

// الخطوة 1: تعريف دالة باسم binarySearch
int binarySearch(List<int> list, int target) {
  // الخطوة 3: تعيين المؤشر الأول والأخير
  int low = 0;                 // يشير إلى بداية القائمة
  int high = list.length - 1;  // يشير إلى نهاية القائمة

  // الخطوة 4: التكرار طالما لم نستنفد نطاق البحث
  while (low <= high) {
    // الخطوة 5: حساب منتصف القائمة
    int mid = (low + high) ~/ 2; // ~/ هي القسمة الصحيحة في Dart

    // طباعة للتوضيح فقط: عرض الفهرس الحالي والحدود
    print("نفحص الفهرس: $mid (القيمة: ${list[mid]}), النطاق: [$low, $high]");

    // الخطوة 6: مقارنة العنصر في المنتصف مع الهدف
    if (list[mid] == target) {
      print("🎯 تم العثور على العنصر $target عند الفهرس $mid");
      return mid; // تم العثور على العنصر
    } else if (list[mid] < target) {
      // إذا كانت القيمة في المنتصف أصغر، نبحث في النصف الأعلى
      low = mid + 1;
    } else {
      // إذا كانت القيمة في المنتصف أكبر، نبحث في النصف الأسفل
      high = mid - 1;
    }
  }

  // الخطوة 7: لم يتم العثور على العنصر
  print("❌ العنصر $target غير موجود في القائمة");
  return -1;
}

// دالة main لتجربة البحث
void main() {
  // قائمة مرتبة تصاعديًا (شرط أساسي!)
  List<int> sortedList = [5, 10, 15, 20, 25, 30, 35, 40];

  // العنصر الذي نريد البحث عنه
  int target = 25;

  // استدعاء الدالة
  int result = binarySearch(sortedList, target);

  // طباعة النتيجة النهائية
  if (result != -1) {
    print("✅ العنصر $target موجود عند الفهرس $result");
  } else {
    print("❗ العنصر $target غير موجود في القائمة");
  }
}

```

---

## 🧠 التحليل الرياضي للخوارزمية:

| الحالة | الزمن المستغرق (Time Complexity) |
| --- | --- |
| أفضل حالة | O(1) → عندما يكون العنصر في المنتصف مباشرةً |
| متوسط الحالة | O(log n) |
| أسوأ حالة | O(log n) |

> الخوارزمية تعمل بشكل أسرع بكثير من Linear Search عندما تكون القائمة كبيرة جدًا.
> 

---

## 🧪 مثال عملي:

لو بحثنا عن `25` في القائمة `[5, 10, 15, 20, 25, 30, 35, 40]`:

- الجولة 1: mid = 3 → 20 < 25 → نبحث من 4 إلى 7
- الجولة 2: mid = 5 → 30 > 25 → نبحث من 4 إلى 4
- الجولة 3: mid = 4 → 25 == 25 → تم العثور!

---

##